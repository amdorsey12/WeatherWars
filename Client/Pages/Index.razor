@page "/"
@using GoogleMapsComponents
@using GoogleMapsComponents.Maps
@inject IWeatherForecastService WeatherForecastService
@inject PinnedLocationsService PinnedLocationsService

<h1>Google Map</h1>
<LocationSearch />
<GoogleMap @ref="@map1" Id="map1" Options="@mapOptions" OnAfterInit="async () => await OnAfterInitAsync()"></GoogleMap>


@functions {
    private GoogleMap map1;
    private MapOptions mapOptions;
    private MapEventListener listener;

    protected override void OnInitialized()
    {
        mapOptions = new MapOptions()
        {
            Zoom = 13,
            Center = new LatLngLiteral()
            {
                Lat = 13.505892,
                Lng = 100.8162
            },
            MapTypeId = MapTypeId.Roadmap
        };

    }
    private async Task OnAfterInitAsync()
    {

        await map1.InteropObject.AddListener("dblclick", OnDoubleClick);

    }
    private void OnDoubleClick()
    {
        Console.WriteLine("Hello world");
        Console.WriteLine(map1.InteropObject.GetBounds().ToString());
        
    }
    
}